<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>alab_management.task_view.task module &#8212; Alab Management</title>
    
  <link rel="stylesheet" href="_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css?v=a123c646" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=32297c5f" />
    
  <link rel="preload" as="script" href="_static/js/index.d3f166471bb80abb5163.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=c5b77fbd"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js?v=dbd2e957"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="alab_management.task_view.task_enums module" href="alab_management.task_view.task_enums.html" />
    <link rel="prev" title="alab_management.task_view.completed_task_view module" href="alab_management.task_view.completed_task_view.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  
  <h1 class="site-logo" id="site-title">Alab Management</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="index.html">
   Overview
  </a>
 </li>
</ul>
<p class="caption collapsible-parent" role="heading">
 <span class="caption-text">
  Quickstart
 </span>
 <i class="fas fa-chevron-down">
 </i>
</p>
<ul class="collapse-ul nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="setup.html">
   Setup definition folder
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="device_definition.html">
   Defining new devices
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="task_definition.html">
   Defining new tasks
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="development.html">
   Development
  </a>
 </li>
 <li class="toctree-l1 current active collapsible-parent">
  <a class="reference internal" href="modules.html">
   API Docs
  </a>
  <ul class="current collapse-ul">
   <li class="toctree-l2 current active collapsible-parent">
    <a class="reference internal" href="alab_management.html">
     alab_management package
    </a>
    <ul class="current collapse-ul">
     <li class="toctree-l3 collapsible-parent">
      <a class="reference internal" href="alab_management.builders.html">
       alab_management.builders package
      </a>
      <ul class="collapse-ul">
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.builders.experimentbuilder.html">
         alab_management.builders.experimentbuilder module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.builders.samplebuilder.html">
         alab_management.builders.samplebuilder module
        </a>
       </li>
      </ul>
      <i class="fas fa-chevron-down">
      </i>
     </li>
     <li class="toctree-l3 collapsible-parent">
      <a class="reference internal" href="alab_management.device_view.html">
       alab_management.device_view package
      </a>
      <ul class="collapse-ul">
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.device_view.dbattributes.html">
         alab_management.device_view.dbattributes module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.device_view.device.html">
         alab_management.device_view.device module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.device_view.device_view.html">
         alab_management.device_view.device_view module
        </a>
       </li>
      </ul>
      <i class="fas fa-chevron-down">
      </i>
     </li>
     <li class="toctree-l3 collapsible-parent">
      <a class="reference internal" href="alab_management.experiment_view.html">
       alab_management.experiment_view package
      </a>
      <ul class="collapse-ul">
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.experiment_view.completed_experiment_view.html">
         alab_management.experiment_view.completed_experiment_view module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.experiment_view.experiment.html">
         alab_management.experiment_view.experiment module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.experiment_view.experiment_view.html">
         alab_management.experiment_view.experiment_view module
        </a>
       </li>
      </ul>
      <i class="fas fa-chevron-down">
      </i>
     </li>
     <li class="toctree-l3 collapsible-parent">
      <a class="reference internal" href="alab_management.sample_view.html">
       alab_management.sample_view package
      </a>
      <ul class="collapse-ul">
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.sample_view.completed_sample_view.html">
         alab_management.sample_view.completed_sample_view module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.sample_view.sample.html">
         alab_management.sample_view.sample module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.sample_view.sample_view.html">
         alab_management.sample_view.sample_view module
        </a>
       </li>
      </ul>
      <i class="fas fa-chevron-down">
      </i>
     </li>
     <li class="toctree-l3 collapsible-parent">
      <a class="reference internal" href="alab_management.task_manager.html">
       alab_management.task_manager package
      </a>
      <ul class="collapse-ul">
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.task_manager.enums.html">
         alab_management.task_manager.enums module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.task_manager.resource_requester.html">
         alab_management.task_manager.resource_requester module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.task_manager.task_manager.html">
         alab_management.task_manager.task_manager module
        </a>
       </li>
      </ul>
      <i class="fas fa-chevron-down">
      </i>
     </li>
     <li class="toctree-l3 current active collapsible-parent">
      <a class="reference internal" href="alab_management.task_view.html">
       alab_management.task_view package
      </a>
      <ul class="current collapse-ul">
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.task_view.completed_task_view.html">
         alab_management.task_view.completed_task_view module
        </a>
       </li>
       <li class="toctree-l4 current active">
        <a class="current reference internal" href="#">
         alab_management.task_view.task module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.task_view.task_enums.html">
         alab_management.task_view.task_enums module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="alab_management.task_view.task_view.html">
         alab_management.task_view.task_view module
        </a>
       </li>
      </ul>
      <i class="fas fa-chevron-down">
      </i>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="alab_management.alarm.html">
       alab_management.alarm module
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="alab_management.config.html">
       alab_management.config module
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="alab_management.device_manager.html">
       alab_management.device_manager module
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="alab_management.experiment_manager.html">
       alab_management.experiment_manager module
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="alab_management.lab_view.html">
       alab_management.lab_view module
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="alab_management.logger.html">
       alab_management.logger module
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="alab_management.task_actor.html">
       alab_management.task_actor module
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="alab_management.user_input.html">
       alab_management.user_input module
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/alab_management.task_view.task.rst.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.rst</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/idocx/alab_management"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#alab_management.task_view.task.BaseTask">
   <code class="docutils literal notranslate">
    <span class="pre">
     BaseTask
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alab_management.task_view.task.BaseTask.add_to">
     <code class="docutils literal notranslate">
      <span class="pre">
       BaseTask.add_to()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alab_management.task_view.task.BaseTask.export_result">
     <code class="docutils literal notranslate">
      <span class="pre">
       BaseTask.export_result()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alab_management.task_view.task.BaseTask.get_message">
     <code class="docutils literal notranslate">
      <span class="pre">
       BaseTask.get_message()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alab_management.task_view.task.BaseTask.import_result">
     <code class="docutils literal notranslate">
      <span class="pre">
       BaseTask.import_result()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alab_management.task_view.task.BaseTask.is_simulation">
     <code class="docutils literal notranslate">
      <span class="pre">
       BaseTask.is_simulation
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alab_management.task_view.task.BaseTask.priority">
     <code class="docutils literal notranslate">
      <span class="pre">
       BaseTask.priority
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alab_management.task_view.task.BaseTask.result_specification">
     <code class="docutils literal notranslate">
      <span class="pre">
       BaseTask.result_specification
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alab_management.task_view.task.BaseTask.run">
     <code class="docutils literal notranslate">
      <span class="pre">
       BaseTask.run()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alab_management.task_view.task.BaseTask.run_subtask">
     <code class="docutils literal notranslate">
      <span class="pre">
       BaseTask.run_subtask()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alab_management.task_view.task.BaseTask.samples">
     <code class="docutils literal notranslate">
      <span class="pre">
       BaseTask.samples
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alab_management.task_view.task.BaseTask.set_message">
     <code class="docutils literal notranslate">
      <span class="pre">
       BaseTask.set_message()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alab_management.task_view.task.BaseTask.update_result">
     <code class="docutils literal notranslate">
      <span class="pre">
       BaseTask.update_result()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alab_management.task_view.task.BaseTask.validate">
     <code class="docutils literal notranslate">
      <span class="pre">
       BaseTask.validate()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#alab_management.task_view.task.ResultPointer">
   <code class="docutils literal notranslate">
    <span class="pre">
     ResultPointer
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alab_management.task_view.task.ResultPointer.from_json">
     <code class="docutils literal notranslate">
      <span class="pre">
       ResultPointer.from_json()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alab_management.task_view.task.ResultPointer.to_json">
     <code class="docutils literal notranslate">
      <span class="pre">
       ResultPointer.to_json()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#alab_management.task_view.task.add_reroute_task">
   <code class="docutils literal notranslate">
    <span class="pre">
     add_reroute_task()
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#alab_management.task_view.task.add_task">
   <code class="docutils literal notranslate">
    <span class="pre">
     add_task()
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#alab_management.task_view.task.get_all_tasks">
   <code class="docutils literal notranslate">
    <span class="pre">
     get_all_tasks()
    </span>
   </code>
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <section id="module-alab_management.task_view.task">
<span id="alab-management-task-view-task-module"></span><h1>alab_management.task_view.task module<a class="headerlink" href="#module-alab_management.task_view.task" title="Permalink to this heading">¶</a></h1>
<p>Define the base class of task, which will be used for defining more tasks.</p>
<dl class="py class">
<dt class="sig sig-object py" id="alab_management.task_view.task.BaseTask">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BaseTask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lab_view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">TaskPriority.NORMAL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/alab_management/task_view/task.html#BaseTask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#alab_management.task_view.task.BaseTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>The abstract class of task.</p>
<p>All the tasks should inherit from this class.</p>
<dl class="py method">
<dt class="sig sig-object py" id="alab_management.task_view.task.BaseTask.add_to">
<span class="sig-name descname"><span class="pre">add_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/alab_management/task_view/task.html#BaseTask.add_to"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#alab_management.task_view.task.BaseTask.add_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to add basetask to a SampleBuilder’s tasklist during Experiment construction.</p>
<p>Args: samples (Union[SampleBuilder, List[SampleBuilder]]): One or more SampleBuilder’s which will have this
task appended to their tasklists.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alab_management.task_view.task.BaseTask.export_result">
<span class="sig-name descname"><span class="pre">export_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/alab_management/task_view/task.html#BaseTask.export_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#alab_management.task_view.task.BaseTask.export_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a reference to a result generated by this Task. This
result can then be imported by another task. This is useful in
cases where tasks are chained together. For instance, the
diffraction results from a “PowderDiffraction” task could be
exported, then imported by a “RietveldRefinement” analysis task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – The name of the result.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any: The value of the result.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alab_management.task_view.task.BaseTask.get_message">
<span class="sig-name descname"><span class="pre">get_message</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/alab_management/task_view/task.html#BaseTask.get_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#alab_management.task_view.task.BaseTask.get_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the task message to be displayed on the dashboard.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alab_management.task_view.task.BaseTask.import_result">
<span class="sig-name descname"><span class="pre">import_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pointer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_explicit_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/alab_management/task_view/task.html#BaseTask.import_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#alab_management.task_view.task.BaseTask.import_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports a result from another task. This is useful in cases where
tasks are chained together. For instance, the diffraction results from a
<code class="docutils literal notranslate"><span class="pre">PowderDiffraction</span></code> task could be exported, then imported by a “RietveldRefinement”
analysis task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pointer</strong> (<em>Union</em><em>[</em><a class="reference internal" href="#alab_management.task_view.task.ResultPointer" title="alab_management.task_view.task.ResultPointer"><em>ResultPointer</em></a><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>]</em>) – Either a ResultPointer object
or a dictionary with the same format as a ResultPointer.</p></li>
<li><p><strong>allow_explicit_value</strong> (<em>bool</em><em>, </em><em>optional</em>) – If true, users can pass values here instead
of pointers. If False, only ResultPointers are valid. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If allow_explicit_value is False and the user passes a value instead of a pointer.:</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Any: The value of the result.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="alab_management.task_view.task.BaseTask.is_simulation">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_simulation</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#alab_management.task_view.task.BaseTask.is_simulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if this task is a simulation, False if it is a live task.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="alab_management.task_view.task.BaseTask.priority">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">priority</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#alab_management.task_view.task.BaseTask.priority" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the priority of this task.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="alab_management.task_view.task.BaseTask.result_specification">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">result_specification</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#alab_management.task_view.task.BaseTask.result_specification" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary describing the results to be generated by this task.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>NotImplementedError</strong> – The subclass must implement this method.:</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Dict[str, Any]</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary with key:type pairs describing the type of data contained under each result key.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">return</span> <span class="p">{</span>
<span class="go">        &quot;temperature&quot;: float,</span>
<span class="go">        &quot;pressure&quot;: float</span>
<span class="go">        }</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">return</span> <span class="p">{</span>
<span class="go">        &quot;twotheta&quot;: List[float],</span>
<span class="go">        &quot;counts&quot;: List[float]</span>
<span class="go">        }</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">return</span> <span class="p">{}</span> <span class="c1">#no results associated with this task.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alab_management.task_view.task.BaseTask.run">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/alab_management/task_view/task.html#BaseTask.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#alab_management.task_view.task.BaseTask.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the task. In this function, you can request lab resources from lab manager and log data to database
with logger.</p>
<p><code class="docutils literal notranslate"><span class="pre">request_resources</span></code> will not return until all the requested resources are available. So the task will
pend until it gets the requested resources, which prevent the conflict in the resource allocation.</p>
<p>When a device get the requested device and sample positions, it also takes over the ownership of these
resources, i.e., other task cannot use the device or request the sample positions this task has requested.</p>
<p>We use a context manager to manage the ownership of the resources. when a task is completed, all the devices
and sample positions will be released automatically.</p>
<p>Here is an example about how to define the task</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># request devices and sample positions from lab manager. The `$` represents</span>
<span class="c1"># the name of assigned devices in the sample positions we try to request,</span>
<span class="c1"># 4 is the number of sample positions.</span>
<span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">lab_view</span><span class="o">.</span><span class="n">request_resources</span><span class="p">({</span><span class="n">Furnace</span><span class="p">:</span> <span class="p">[(</span><span class="s2">&quot;$.inside&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]})</span> <span class="k">as</span> <span class="n">devices_and_positions</span><span class="p">:</span>
    <span class="n">devices</span><span class="p">,</span> <span class="n">sample_positions</span> <span class="o">=</span> <span class="n">devices_and_positions</span>
    <span class="n">furnace</span> <span class="o">=</span> <span class="n">devices</span><span class="p">[</span><span class="n">Furnace</span><span class="p">]</span>
    <span class="n">inside_furnace</span> <span class="o">=</span> <span class="n">sample_positions</span><span class="p">[</span><span class="n">Furnace</span><span class="p">][</span><span class="s2">&quot;$.inside&quot;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">samples</span><span class="p">:</span>
        <span class="c1"># in a task, we can call other tasks, which will share the same</span>
        <span class="c1"># task id, requested devices and sample positions.</span>
        <span class="n">moving_task</span> <span class="o">=</span> <span class="n">Moving</span><span class="p">(</span><span class="n">sample</span><span class="o">=</span><span class="n">sample</span><span class="p">,</span>
                             <span class="n">task_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">task_id</span><span class="p">,</span>
                             <span class="n">dest</span><span class="o">=</span><span class="n">inside_furnace</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                             <span class="n">lab_view</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lab_view</span><span class="p">,</span>
                             <span class="n">logger</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="p">)</span>
        <span class="n">moving_task</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

    <span class="c1"># send command to device</span>
    <span class="n">furnace</span><span class="o">.</span><span class="n">run_program</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setpoints</span><span class="p">)</span>

    <span class="k">while</span> <span class="n">furnace</span><span class="o">.</span><span class="n">is_running</span><span class="p">():</span>
        <span class="c1"># log the device data, which is current temperature of the furnace</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">log_device_signal</span><span class="p">({</span>
            <span class="s2">&quot;device&quot;</span><span class="p">:</span> <span class="n">furnace</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;temperature&quot;</span><span class="p">:</span> <span class="n">furnace</span><span class="o">.</span><span class="n">get_temperature</span><span class="p">(),</span>
        <span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alab_management.task_view.task.BaseTask.run_subtask">
<span class="sig-name descname"><span class="pre">run_subtask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/alab_management/task_view/task.html#BaseTask.run_subtask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#alab_management.task_view.task.BaseTask.run_subtask" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a subtask of this current task. Returns the result, if any, of the subtask.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="alab_management.task_view.task.BaseTask.samples">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">samples</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#alab_management.task_view.task.BaseTask.samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of samples associated with this task.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alab_management.task_view.task.BaseTask.set_message">
<span class="sig-name descname"><span class="pre">set_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/alab_management/task_view/task.html#BaseTask.set_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#alab_management.task_view.task.BaseTask.set_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the task message to be displayed on the dashboard.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alab_management.task_view.task.BaseTask.update_result">
<span class="sig-name descname"><span class="pre">update_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/alab_management/task_view/task.html#BaseTask.update_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#alab_management.task_view.task.BaseTask.update_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach a result to the task. This will be saved in the database and
can be accessed later. Subsequent calls to this function with the same
key will overwrite the previous value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – The name of the result.</p></li>
<li><p><strong>value</strong> (<em>Any</em>) – The value of the result.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alab_management.task_view.task.BaseTask.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/alab_management/task_view/task.html#BaseTask.validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#alab_management.task_view.task.BaseTask.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the task.</p>
<p>This function will be called before the task is executed.
Should return False if the task has values that make it impossible to execute.
For example, a <code class="docutils literal notranslate"><span class="pre">Heating</span></code> subclass of <cite>BaseTask</cite> might return False if the
set temperature is too high for the furnace.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="alab_management.task_view.task.ResultPointer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ResultPointer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/alab_management/task_view/task.html#ResultPointer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#alab_management.task_view.task.ResultPointer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A reference to a result generated by a task. This result can then be imported by another task.</p>
<dl class="py method">
<dt class="sig sig-object py" id="alab_management.task_view.task.ResultPointer.from_json">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/alab_management/task_view/task.html#ResultPointer.from_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#alab_management.task_view.task.ResultPointer.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a ResultPointer from a JSON-serializable dictionary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="alab_management.task_view.task.ResultPointer.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/alab_management/task_view/task.html#ResultPointer.to_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#alab_management.task_view.task.ResultPointer.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert this ResultPointer to a JSON-serializable dictionary.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="alab_management.task_view.task.add_reroute_task">
<span class="sig-name descname"><span class="pre">add_reroute_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">supported_sample_positions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/alab_management/task_view/task.html#add_reroute_task"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#alab_management.task_view.task.add_reroute_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a reroute task.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="alab_management.task_view.task.add_task">
<span class="sig-name descname"><span class="pre">add_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/alab_management/task_view/task.html#add_task"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#alab_management.task_view.task.add_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a task.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="alab_management.task_view.task.get_all_tasks">
<span class="sig-name descname"><span class="pre">get_all_tasks</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/alab_management/task_view/task.html#get_all_tasks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#alab_management.task_view.task.get_all_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all the tasks in the registry.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code>[<a class="reference internal" href="task_definition.html#alab_management.task_view.task.BaseTask" title="alab_management.task_view.task.BaseTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseTask</span></code></a>]]</span></p>
</dd>
</dl>
</dd></dl>

</section>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="alab_management.task_view.completed_task_view.html" title="previous page">alab_management.task_view.completed_task_view module</a>
    <a class='right-next' id="next-link" href="alab_management.task_view.task_enums.html" title="next page">alab_management.task_view.task_enums module</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Alab Project Team<br/>
        
            &copy; Copyright 2023, Alab Project Team.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>